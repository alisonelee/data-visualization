<!doctype html>
<html>
<head>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
   <script src="https://code.highcharts.com/highcharts.js"></script>
</head>
<body>
<div id="container" style="width: 100%; margin: 0 auto"></div>
<script language="JavaScript">

// ---------------------------------- C h a n g e s  s t a r t  h e r e --------------------------------------------//
var driver1 = "Worker Pay and Benefits";
var driver2 = "Worker Treatment";
var driver3 = "Leadership & Ethics";
var driver4 = "Customer Treatment";
var driver5 = "Product Attributes";
var driver6 = "Domestic Job Creation";
var driver7 = "Environmental Impact";
var driver8 = "Supply Chain Impact";
var driver9 = "Investor Alignment";
var driver10 = "Community Wellbeing";

var driver1Weight = 24.56;
var driver2Weight = 24.03;
var driver3Weight = 17.21;
var driver4Weight = 7.43;
var driver5Weight = 5.64;
var driver6Weight = 5.57;
var driver7Weight = 4.98;
var driver8Weight = 4.08;
var driver9Weight = 3.92;
var driver10Weight = 1.69;

var driver1Link = "https://justcapital.com/driver/worker-pay-and-benefits/";
var driver2Link = "https://justcapital.com/driver/worker-treatment/";
var driver3Link = "https://justcapital.com/driver/leadership-and-ethics/";
var driver4Link = "https://justcapital.com/driver/customer-treatment/";
var driver5Link = "https://justcapital.com/driver/product-attributes/";
var driver6Link = "https://justcapital.com/driver/domestic-job-creation/";
var driver7Link = "https://justcapital.com/driver/environmental-impact/";
var driver8Link = "https://justcapital.com/driver/supply-chain-impact/";
var driver9Link = "https://justcapital.com/driver/investor-alignment/";
var driver10Link = "https://justcapital.com/driver/community-well-being/";

var driver1Copy = "Does the company pay its employees fairly? Americans shared that fair wages and providing reasonable benefits was one of most important factor defining corporate JUSTness.";
var driver2Copy = "How well are employees treated, and what kind of culture is fostered? In addition to fair pay, Americans shared that the relationship between a corporation and its employees was highly important.";
var driver3Copy = "Is the company honest and law-abiding? Americans believe that the ethics of corporate leadership, such as the transparency and honesty of its political activities and communication, are critical.";
var driver4Copy = "Are customers treated fairly? How a company relates to and interacts with the people that buy its products or services makes a difference.";
var driver5Copy = "How safe and useful are the products a company creates? Perceptions of JUSTness are affected by quality of the products/services that a corporation provides.";
var driver6Copy = "Does the company create jobs in the US? Americans shared that outsourcing or offshoring jobs outside the US affected their beliefs about JUSTness.";
var driver7Copy = "Does the company respect and protect our planet? Americans see Earth as a stakeholder, not merely a resource, in their understanding of JUSTness.";
var driver8Copy = "Does the company protect human rights, in America and its supply chain? Americans want all human beings to be treated with dignity and respect.";
var driver9Copy = "Is the company financially sustainable and creating value for its shareholders? Stock price and financial health were also components of JUSTness, when balanced with other factors.";
var driver10Copy = "Does the company engage with and contribute to its local community? Participation and charitable efforts were important elements of local relations.";
// ---------------------------------- C h a n g e s  e n d  h e r e --------------------------------------------//

/**
* Returns the driver's variable name.
*/
function getVarName(driver) {
  if (driver === driver1)
    return "driver1";
  else if (driver === driver2)
    return "driver2";
  else if (driver === driver3)
    return "driver3";
  else if (driver === driver4)
    return "driver4";
  else if (driver === driver5)
    return "driver5";
  else if (driver === driver6)
    return "driver6";
  else if (driver === driver7)
    return "driver7";
  else if (driver === driver8)
    return "driver8";
  else if (driver === driver9)
    return "driver9";
  else if (driver === driver10)
    return "driver10";
}

/**
* Returns the driver's link.
*/
function getLink(driverLink) {
  if (driverLink === "driver1Link")
    return driver1Link;
  else if (driverLink === "driver2Link")
    return driver2Link;
  else if (driverLink === "driver3Link")
    return driver3Link;
  else if (driverLink === "driver4Link")
    return driver4Link;
  else if (driverLink === "driver5Link")
    return driver5Link;
  else if (driverLink === "driver6Link")
    return driver6Link;
  else if (driverLink === "driver7Link")
    return driver7Link;
  else if (driverLink === "driver8Link")
      return driver8Link;
  else if (driverLink === "driver9Link")
    return driver9Link;
  else if (driverLink === "driver10Link")
    return driver10Link;
}

/**
* Returns copy on the driver.
*/
function getCopy(driver) {
  if (driver === "driver1") {

  }
  else if (driver === "driver2") {

  }
  else if (driver === "driver3") {

  }
  else if (driver === "driver4") {

  }
  else if (driver === "driver5") {

  }
  else if (driver === "driver6") {

  }
  else if (driver === "driver7") {

  }
  else if (driver === "driver8") {

  }
  else if (driver === "driver9") {

  }
  else if (driver === "driver10") {

  }
}

$(document).ready(function() {
   var chart = {
      type: 'column'
   };
   var title = {
      text: ''
   };
   var subtitle = {
      text: ''
   };
   var xAxis = {
      categories: [driver1, driver2, driver3, driver4, driver5,
                   driver6, driver7, driver8, driver9, driver10],
      title: {
         text: null
      },
      lineWidth: 0,
      minorGridLineWidth: 0,
      gridLineColor: 'transparent',
      lineColor: 'transparent',
      minorTickLength: 0,
      tickLength: 0
   };
   var yAxis = {
      min: 0,
      title: {
         text: 'Importance',
         align: 'middle'
      },
      labels: {
         enabled: false,
         overflow: 'justify'
      },
      lineWidth: 0,
      minorGridLineWidth: 0,
      gridLineColor: 'transparent',
      lineColor: 'transparent',
      minorTickLength: 0,
      tickLength: 0
   };
   var tooltip = {
      //valueSuffix: '%',
      formatter: function() {
        if (this.x === driver1)
          return this.x + driver1Copy;
        else if (this.x === driver2)
          return this.x + driver2Copy;
        else if (this.x === driver3)
          return this.x + driver3Copy;
        else if (this.x === driver4)
          return this.x + driver4Copy;
        else if (this.x === driver5)
          return this.x + driver5Copy;
        else if (this.x === driver6)
          return this.x + driver6Copy;
        else if (this.x === driver7)
          return this.x + driver7Copy;
        else if (this.x === driver8)
          return this.x + driver8Copy;
        else if (this.x === driver9)
          return this.x + driver9Copy;
        else if (this.x === driver10)
          return this.x + driver10Copy;

      }
   };
   var plotOptions = {
      column: {
         dataLabels: {
            enabled: true
         }
      },
      series: {
        cursor: 'pointer',
        point: {
          events: {
            click: function() {
              var link = getLink(getVarName(this.category) + "Link");
              window.location.href = link;
            }
          }
        }
      }
   };
   var legend = {
      layout: 'vertical',
      align: 'right',
      verticalAlign: 'top',
      x: -5,
      y: 500, // 300
      floating: true,
      borderWidth: 1,
      backgroundColor: ((Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'),
      shadow: true
   };
   var credits = {
      enabled: false
   };

   var series= [{
         name: '2016',
            data: [driver1Weight, driver2Weight, driver3Weight, driver4Weight,driver5Weight,
                   driver6Weight,driver7Weight,driver8Weight, driver9Weight, driver10Weight]
         }
   ];

   var json = {};
   json.chart = chart;
   json.title = title;
   json.subtitle = subtitle;
   json.tooltip = tooltip;
   json.yAxis = yAxis;
   json.xAxis = xAxis;
   json.series = series;
   json.plotOptions = plotOptions;
   json.legend = legend;
   json.credits = credits;
   $('#container').highcharts(json);
});
</script>
</body>
</html>
